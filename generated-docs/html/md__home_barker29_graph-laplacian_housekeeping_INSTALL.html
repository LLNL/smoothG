<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>smoothG: INSTALL</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="smoothg_logo_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">smoothG
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">INSTALL </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="INSTALL"></a>
Installing smoothG            </h1>
<p>The following instructions will install smoothG and all of its dependencies.</p>
<h1>Dependencies:</h1>
<ul>
<li>blas</li>
<li>lapack</li>
<li><a href="http://glaros.dtc.umn.edu/gkhome/metis/metis/overview">metis-5.1.0</a></li>
<li><a href="https://computation.llnl.gov/projects/hypre-scalable-linear-solvers-multigrid-methods/software">hypre-2.10.0b</a></li>
<li><a href="http://faculty.cse.tamu.edu/davis/suitesparse.html">SuiteSparse-4.5.4</a></li>
<li><a href="http://mfem.org/">mfem-3.3</a></li>
</ul>
<h1>Build Dependencies:</h1>
<p>These instructions will build dependencies in the your home folder: <code>${HOME}</code></p>
<p>If not installing in standard system locations (<code>/usr/</code>, <code>/usr/local/</code>, etc), you will need to export the appropriate <code>LIBRARY_PATH</code> and <code>LD_LIBRARY_PATH</code> so that the linker/loader can find them.</p>
<p>For example the final <code>LIBRARY_PATH</code> will look like: </p>
<pre class="fragment">export LD_LIBRARY_PATH=${HOME}/local/lib:$LD_LIBRARY_PATH
</pre><h2>blas</h2>
<pre class="fragment">check if exists or install from package manager
</pre><h2>lapack</h2>
<pre class="fragment">check if exists or install from package manager
</pre><h2>metis-5.1.0</h2>
<pre class="fragment">tar -xvzf metis-5.1.0.tar.gz
cd metis-5.1.0

make config prefix=${HOME}/metis
make install
</pre><h2>hypre-2.10.0b</h2>
<pre class="fragment">tar -xvfz hypre-2.10.0b.gz
cd hypre-2.10.0b/src

./configure --disable-fortran --prefix=${HOME}/hypre
make install
</pre><h2>SuiteSparse-4.5.4</h2>
<pre class="fragment">tar -xvfz SuiteSparse-4.5.4.tar.gz
cd SuiteSparse-4.5.4

make install BLAS=/usr/lib64/libblas.so.3 LAPACK=/usr/lib64/liblapack.so.3 \
    INSTALL=${HOME}/SuiteSparse

#(Replace blas and lapack library locations appropriately)
</pre><h2>mfem-3.3</h2>
<pre class="fragment">tar -xvzf mfem-3.3.tar.gz
cd mfem-3.3

make config
</pre><p>Choose one of the following: </p>
<pre class="fragment">edit config/config.mk with the correct parameters

make parallel
make install
</pre><p>&ndash;or&ndash; </p>
<pre class="fragment">make parallel \
    PREFIX=${HOME}/mfem \
    MFEM_USE_METIS_5=YES \
    MFEM_USE_LAPACK=YES \
    MFEM_USE_SUITESPARSE=YES \
    HYPRE_DIR=${HOME}/hypre \
    SUITESPARSE_DIR=${HOME}/SuiteSparse  \
    METIS_DIR=${HOME}/metis \
    LAPACKLIB="/usr/lib64/liblapack.so.3 /usr/lib64/libblas.so.3"
make install
</pre><h1>Optional Dependencies:</h1>
<ul>
<li><a href="http://www.spe.org/web/csp/datasets/set02.htm">SPE10 dataset</a></li>
<li><a href="http://valgrind.org/">Valgrind</a></li>
</ul>
<h2>spe10 dataset</h2>
<pre class="fragment">unzip por_perm_case2a.zip -d ${HOME}/spe10
</pre><h2>Valgrind</h2>
<pre class="fragment">tar -xvf valgrind-3.12.0
cd valgrind-3.12.0

./configure --prefix=${HOME}/valgrind
make
make install
</pre><h1>Build smoothG</h1>
<p>Clone the smoothG repo and cd into smoothG directory.</p>
<p>To build smoothG, either copy, modify, and run a config file from config/ or pass the parameters directly to cmake: </p>
<pre class="fragment">mkdir -p build
cd build

cmake \
    -DMFEM_DIR=${HOME}/mfem \
    -DMETIS_DIR=${HOME}/metis \
    -DHYPRE_DIR=${HOME}/hypre \
    -DSuiteSparse_DIR=${HOME}/SuiteSparse \
    -DCMAKE_BUILD_TYPE=DEBUG \
    -DBLAS_LIBRARIES=/usr/lib64/libblas.so.3 \
    -DLAPACK_LIBRARIES=/usr/lib64/liblapack.so.3 \
    -DSPE10_DIR=${HOME}/spe10 \
    ..

make
make test
make doc
</pre><h1>Notes:</h1>
<p>Metis gives you the option of choosing between float and double as your real type by altering the REALTYPEWIDTH constant in metis.h. To pass our tests, you need to have REALTYPEWIDTH set to 32 (resulting in float for your real type). </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
